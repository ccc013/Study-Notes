


---
#### 1. list 去重保持顺序

##### 去重，但改变顺序

方法1

```
l1 = ['b','c','d','b','c','a','a']
l2 = list(set(l1))
print l2
```

方法2：

```
l1 = ['b','c','d','b','c','a','a']
l2 = {}.fromkeys(l1).keys()
print l2
```

##### 去重，不改变顺序

```
l1 = ['b','c','d','b','c','a','a']
l2 = sorted(set(l1),key=l1.index)
print l2
```


---
#### 2. 字符串常量转为变量

来自：

- [Python进阶：如何将字符串常量转为变量？](https://mp.weixin.qq.com/s/4eWQmJ15QZabNViePCDmNw)

> 已知 list = ['A', 'B', 'C', 'D'] , 如何才能得到以 list 中元素命名的新列表 A = [], B = [], C = [], D = []呢?


第一种解法：

```
>>> list1 = ['A', 'B', 'C', 'D']
>>> for i in list1:
>>>     globals()[i] = []
>>> A
[]
```
**
这个方法通过**修改全局命名空间**，巧妙地“定义”出了新的变量。**`globals()` 方法取出来的是一个字典，字符串 ‘A’ 是其中一个键值（key），而这个键值恰恰是全局命名空间中的一个变量，这就实现了从常量到变量的转化。

在数据结构层面上，空列表 `[]` 作为一个值（value）跟它的字符串键值绑定在一起，而在运用层面上，它作为**变量内容而跟变量名绑定在一起**。


第二种解法：

```
>>> list1 = ['A', 'B', 'C', 'D']
>>> for i in list1:
>>>     exec(f"{i} = []")
>>> A
[]
```
用到了 `Python 3.6` 才引入的 `f-strings` 特性，事实上，在较低版本中，也是可以实现的，只需要保证 `exec()` 方法接收的参数是包含了变量 `i` 的字符串即可，例如这样写：


```
# 以下代码可替换上例的第 4 行
exec(i + " = []")
# 或者：
exec("{} = []".format(i))
# 或者：
exec(' '.join([i, '= []']))
```

这里的关键是 `exec()` 方法，它是内置的，用途是**执行储存在字符串或文件中的代码段**。

它的基础用法如下：

```
>>> exec('x = 1 + 2')
>>> x
3

# 执行代码段
>>> s = """
>>> x = 10
>>> y = 20
>>> sum = x + y
>>> print(sum)
>>> """
>>> exec(s)
30
```

注意：在 `Python3` 中，`exec()` 是个内置方法；而在 `Python2` 中，`exec` 是个语句（statement），另外有个 `execfile()` 方法，两者相合并，就成了 `Python3` 中的 `exec()` 方法。本文使用的是 `Python3`。


---

